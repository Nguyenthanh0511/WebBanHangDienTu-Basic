<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Cùng Thành Lập Trình </title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="./css/topnav.css">
    <link rel="stylesheet" href="./css/header.css">
    <link rel="stylesheet" href="./css/container-sanpham.css">
    <link rel="stylesheet" href="./css/company.css">
    <!-- owl carousel libraries -->
    <link rel="stylesheet" href="./js/owlcarousel/owl.theme.default.min.css">
    <link rel="stylesheet" href="./js/owlcarousel/owl.carousel.min.css">
    <script src="./js/Jquery/Jquery.min.js"></script>
    <script src="./js/owlcarousel/owl.carousel.min.js"></script>


    <script src='./js/Aw/all.js'></script>
    <script src='./js/Aw/Banner.js'></script>
    <!-- <script src='./js/Aw/home.js'></script> -->
    <script src='./js/Aw/ClassAw.js'></script>
    <script src='./data/products.js'></script>
    <script src='./js/Aw/ThemDanhSachHangSanPham.js'></script>
    <script src='./js/Aw/home.js'></script>
    <script src="./js/Aw/container2.js"></script>
    <!-- Include jQuery and Owl Carousel libraries -->
    <!-- Include jQuery -->
    <style>
        .khungSanPham {
            width: 100%;
            margin: 50px 0;
            border-radius: 5px;
            border: 2px solid #ff4d00;
            box-sizing: border-box;
            /* dùng để width ko vượt ra ngoài khi có border */
        }

        .khungSanPham h3.tenKhung {
            line-height: 1.5em;
            font-size: 1.5em;
            text-align: center;
            margin: 0 auto;
            border-radius: 1em;
            color: white;
            transform: translateY(-0.75em);
        }

        .khungSanPham li {
            list-style-type: none;
        }

        .flexContain {
            display: -webkit-box;
            display: -ms-flexbox;
            display: flex;
            -ms-flex-wrap: wrap;
            flex-wrap: wrap;
            -webkit-box-orient: horizontal;
            -webkit-box-direction: normal;
            -ms-flex-direction: row;
            flex-direction: row;
            -webkit-box-pack: center;
            -ms-flex-pack: center;
            justify-content: center;
        }

        .sanPham {
            width: 138px;
            border: 1px solid #eee;
            -webkit-transition-duration: .3s;
            -o-transition-duration: .3s;
            transition-duration: .3s;
        }
        /* CSS để ẩn phần tử giỏ hàng ban đầu */
        .gio-hang-popup {
            display: none;
            /* Thêm các style khác tùy ý */
        }

        /* CSS để hiển thị phần tử giỏ hàng khi được kích */
        .gio-hang-popup.show {
            display: block;
        }

    </style>
</head>

<body>

    <!-- TopNav -->
    <div class="top-nav">
        <section>
            <!-- Logo social -->
            <div class="social-top-nav">
                <a class="fa fa-facebook"></a>
                <a class="fa fa-twitter"></a>
                <a class="fa fa-google"></a>
                <a class="fa fa-youtube"></a>
            </div>
            <!-- Lựa chọn trang  -->
            <!-- <div> -->
            <ul class="top-nav-quicklink flexcontain">
                <li><a href="index.html"><i class="fa fa-home"></i> Trang chủ</a></li>
                <li><a href="tintuc.html"><i class="fa fa-newspaper-o"></i> Tin tức</a></li>
                <li><a href="tuyendung.html"><i class="fa fa-handshake-o"></i> Tuyển dụng</a></li>
                <li><a href="gioithieu.html"><i class="fa fa-info-circle"></i> Giới thiệu</a></li>
                <li><a href="trungtambaohanh.html"><i class="fa fa-wrench"></i> Bảo hành</a></li>
                <li><a href="lienhe.html"><i class="fa fa-phone"></i> Liên hệ</a></li>
            </ul>
            <!-- </div> -->
        </section>
    </div>
    <section>

        <!-- Header -->
        <!-- addHeader(); -->
        <div class="header group">
            <div class="logo">
                <a href="index.html">
                    <img alt="" title="">
                </a>
            </div> <!-- End Logo -->

            <div class="content">
                <div class="search-header" style="position: relative; left: 162px; top: 1px;">
                    <form class="input-search" method="get" action="index.html">
                        <div class="autocomplete">
                            <input id="search-box" name="search" autocomplete="off" type="text"
                                placeholder="Nhập từ khóa tìm kiếm...">
                            <button type="submit">
                                <i class="fa fa-search"></i>
                                Tìm kiếm
                            </button>
                        </div>
                    </form> <!-- End Form search -->
                    <div class="tags">
                        <strong>Từ khóa: </strong>
                    </div>
                </div> <!-- End Search header -->

                <div class="tools-member">
                    <div class="member">
                        <a onclick="checkTaiKhoan()">
                            <i class="fa fa-user"></i>
                            Tài khoản
                        </a>
                        <div class="menuMember hide">
                            <a href="nguoidung.html">Trang người dùng</a>
                            <a onclick="if(window.confirm('Xác nhận đăng xuất ?')) logOut();">Đăng xuất</a>
                        </div>
                    </div> <!-- End Member -->

                    <div class="cart">
                        <a href="gioHang.html">
                            <i class="fa fa-shopping-cart" onclick = "hienThiGioHang()"></i>
                            <span>Giỏ hàng</span>
                            <span id="cart-number"></span>
                        </a>
                    </div> <!-- End Cart -->
                    <!-- Thêm phần tử hiển thị giỏ hàng -->
                    <div id="gio-hang-popup" class="gio-hang-popup hide">
                        <!-- Thông tin giỏ hàng sẽ được thêm vào đây -->
                    </div>

                    <div class="check-order">
                        <a>
                            <i class="fa fa-truck"></i>
                            <span>Đơn hàng</span>
                        </a>
                    </div>
                </div><!-- End Tools Member -->
            </div> <!-- End Content -->
        </div>

        <!-- Banner -->

        <div class="banner" style="margin-top:80px;">
            <div class="owl-carousel owl-theme">

            </div>
        </div>
    </section>
    <script src="./js/Aw/Banner.js"></script>
    <!-- Container -->
    <img src="img/banners/spotlight.png" alt="" style="width: 100%;">
    <br>
    <div class="companyMenu group flexContain"></div>
    <!-- Div hiển thị khung sp hot, khuyến mãi, mới ra mắt ... -->
    <div class="contain-khungSanPham"></div> 
    <div class="footer">
        <script>
            addFooter();
        </script>
    </div>
    <!-- Thêm giỏ hàng -->
    <script>
        var gioHang = [];
        function themGioHang(tenSp,giaSp,img){
            var sanPham = {
                ten: tenSp,
                gia: giaSp,
                anh: img
            };
            gioHang.push(sanPham);
            capNhatSoLuongGioHang();
             // Lưu gioHang vào localStorage
            luuGioHangVaoLocalStorage();
        }
        function capNhatSoLuongGioHang(){
            var carNumberElement = document.getElementById('cart-number')
            carNumberElement.textContent = gioHang.length; 
        }
        function luuGioHangVaoLocalStorage() {
            var gioHangJSON = JSON.stringify(gioHang);
            localStorage.setItem('gioHang', gioHangJSON);
        }
        function khoiPhucGioHangTuLocalStorage() {
            var gioHangJSON = localStorage.getItem('gioHang');
            if (gioHangJSON) {
                gioHang = JSON.parse(gioHangJSON);
                capNhatSoLuongGioHang();
            }
        }
        // Thêm sự kiện click vào biểu tượng giỏ hàng
      
    </script>
    <script>
        function addFooter() {
        document.write(`
        <!-- ============== Alert Box ============= -->
        <div id="alert">
            <span id="closebtn">&otimes;</span>
        </div>

        <!-- ============== Footer ============= -->
        <div class="copy-right">
            <p><a href="index.html">TP- Store</a> - All rights reserved © 2023 - Designed by
                <span style="color: #eee; font-weight: bold">thuộc về cá nhân</span></p>
        </div>`);

    }
    </script>
    <script>
        // Lấy tham chiếu tới lớp
      // Dữ liệu sản phẩm mẫu (có thể thay thế bằng dữ liệu thực từ API hoặc cơ sở dữ liệu)

        // Lấy tham chiếu đến phần contain-khungSanPham
        var containKhungSanPham = document.querySelector('.contain-khungSanPham');

        // Thêm sản phẩm vào phần contain-khungSanPham
       // Thêm sản phẩm vào phần contain-khungSanPham
         for (var i = 0; i < 40; i++) {
            var sanPham = list_products[i];

            var itemHTML = `
                <div class="sanPham">
                    <img src="${sanPham.img}" alt="${sanPham.name}">
                    <h4>${sanPham.name}</h4>
                    <p>${sanPham.price.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })}</p>
                    <button onclick="themGioHang('${sanPham.name}', '${sanPham.price}','${sanPham.img}')">Thêm vào giỏ hàng</button>
                </div>
            `;

            // Create a container for each group of 4 products
            if (i % 2 === 0) {
                var productGroup = document.createElement('div');
                productGroup.classList.add('product-group');
                containKhungSanPham.appendChild(productGroup);
            }

            // Append the product item to the current product group
            var productGroupLastChild = containKhungSanPham.lastChild;
            productGroupLastChild.appendChild(createElementFromHTML(itemHTML));

         }
        function createElementFromHTML(htmlString) {
            var div = document.createElement('div');
            div.innerHTML = htmlString.trim();
            return div.firstChild;
        }
    </script>

    <script>
        // Danh sách hãng điện thoại
        var companies = [
            "Apple.jpg", "Samsung.jpg", "Oppo.jpg", "Nokia.jpg", "Huawei.jpg", "Xiaomi.png",
            "Realme.png", "Vivo.jpg", "Philips.jpg", "Mobell.jpg", "Mobiistar.jpg", "Itel.jpg",
            "Coolpad.png", "HTC.jpg", "Motorola.jpg"
        ];
        // Thêm hãng điện thoại vào trang web
        var companyMenu = document.querySelector('.companyMenu');
        companies.forEach(function (company) {
            var imgPath = "img/company/" + company;
            var companyName = company.slice(0, company.length - 4);

            var link = createLinkFilter('add', 'company', companyName);
            var imgTag = '<img src="' + imgPath + '" alt="' + companyName + '">';
            var anchorTag = '<a href="' + link + '">' + imgTag + '</a>';

            var div = document.createElement('div');
            div.innerHTML = anchorTag;

            companyMenu.appendChild(div);
        });

        // Hàm tạo liên kết filter
        function createLinkFilter(type, nameFilter, valueAdd) {
            var currentUrl = window.location.href.split('?')[0]; // Lấy URL hiện tại

            var filters = new URLSearchParams(window.location.search);
            filters.set(nameFilter, valueAdd);

            var newUrl = currentUrl + '?' + filters.toString(); // Tạo URL mới với filter mới

            return newUrl;
        };
    </script>
    <!-- Div hiển thị khung sp hot, khuyến mãi, mới ra mắt ... -->

</body>

</html>